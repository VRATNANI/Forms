<!DOCTYPE html>
<html lang="en">
<title>Forms</title>
<script>
    window.onload = function () {
        var data;
        var myHeaders = new Headers();
        myHeaders.append("Authorization", "Bearer 3c78d9a1bd23503820d494d0e238e6595dd76471");

        var requestOptions = {
            method: 'GET',
            headers: myHeaders,
            redirect: 'follow'
        };

        fetch("https://api.github.com/repos/VRATNANI/Forms/contents/Templates", requestOptions)
            .then(response => response.json())
            .then(result => data = result)
            .then(() => {
                for (var i = 0; i < data.length; i++) {
                    if (data[i].name.toString().endsWith('csv')) {
                        areaOfInterest = document.getElementById('areaOfInterest');
                        myOption = document.createElement("option");
                        myOption.text = data[i].name.toString().split(".")[0];
                        myOption.value = data[i].name.toString().split(".")[0];
                        areaOfInterest.appendChild(myOption);
                    }

                }
            });
    }
</script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js"
        integrity="sha256-+C0A5Ilqmu4QcSPxrlGpaZxJ04VjsRjKu+G82kl5UJk=" crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css" rel="stylesheet"
        type="text/css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>


    <style>
        .gradient {
            height: 100%;
            background-color: #17a2b8;
            background-image: linear-gradient(to right, white, #17a2b8, darkslategrey) !important;
        }

        .interestSelector {
            width: 100%;
        }
    </style>
</head>

<body class="gradient">
    <!--Navigaion Bar Starts-->
    <nav class="navbar navbar-light bg-white">
        <a class="navbar-brand font-weight-bold font-arial text-info" href="#">
            <img src="/bannerlogo.png" width="130" height="30" class="d-inline-block align-top" alt="" loading="lazy">
            Forms
        </a>
    </nav>
    <!--Navigaion Bar Ends-->

    <div class="container mt-5" id="mainContainer">
        <div class="container-fluid bg-white rounded" style="width: 80%">
            <br>
            <div class="container row mb-2">
                <h3 class="text-dark">Feedback <span class="text-info">Form</span></h3>
            </div>
            <div class="form-group row justify-content-center">
                <div class="col-lg-4 col-md-12 col-sm-12 mt-2">
                    <input type="text" class="form-control border-info" id="firstName" data-toggle="tooltip"
                        data-placement="bottom" title="First Name" placeholder="First Name" required>
                </div>
                <div class="col-lg-4 col-md-12 col-sm-12 mt-2">
                    <input type="text" class="form-control border-info" id="lastName" data-toggle="tooltip"
                        data-placement="bottom" title="Last Name" placeholder="Last Name" required>
                </div>
                <div class="col-lg-4 col-md-12 col-sm-12 mt-2">
                    <input type="email" class="form-control border-info" id="eMail" data-toggle="tooltip"
                        data-placement="bottom" title="E-mail ID" placeholder="E-mail ID" required>
                </div>
            </div>
            <div class="form-group row d-flex justify-content-center pb-2">
                <div class="col-lg-4 col-md-12 col-sm-12">
                    <select id="areaOfInterest" class="text-left p-1 interestSelector rounded border-info"
                        data-toggle="tooltip" data-placement="bottom" title="Area of Interest"
                        placeholder="Area of Interest" onchange="getInterest()" required>
                        <option value="">Area of Interest</option>
                    </select>
                </div>
            </div>
            <div class="container" id="formData">
                <p id="changed" class="text-dark bg-white text-center">Value</p>
                <div class="row">
                    <label for="1" class="text-dark col-lg-10 col-md-10 col-sm-10">Q1. What is your name?</label>
                    <div class="col-lg-4 col-sm-8 col-md-8">
                        <input type="text" class="border-info form-control" id="1">
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <label for="dateTime" class="col-form-label">Preferred Date</label>
                <div class="col-lg-4 col-md-12 col-sm-12">
                    <input type="text" class="form-control border-info" name="dateTime" id="dateTime"
                        data-toggle="tooltip" data-provide='datepicker' data-placement="bottom" title="Preferred Date"
                        placeholder="Preferred Date" required>
                </div>
            </div>
            <div class="row justify-content-center pb-2 pt-2">
                <button type="button" class="btn btn-info">Submit</button>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
    var date = new Date();
    date.setDate(date.getDate() + 14)
    $('#dateTime').datepicker({
        startDate: date
    })
    function getInterest() {
        document.getElementById('areaOfInterest').disabled = true;
        var areaOfInterest = document.getElementById('areaOfInterest').value;
        document.getElementById('changed').innerHTML = areaOfInterest;
        var rows = [];
        var myHeaders = new Headers();
        myHeaders.append("Authorization", "Bearer 3c78d9a1bd23503820d494d0e238e6595dd76471");

        var requestOptions = {
            method: 'GET',
            headers: myHeaders,
            redirect: 'follow'
        };

        fetch("https://api.github.com/repos/VRATNANI/Forms/contents/Templates/" + areaOfInterest + ".csv", requestOptions)
            .then(response => response.json())
            .then(result => data = result)
            .then(() => {
                var rows = atob(data.content).split("\n");
                for (var i = 0; i < rows.length; i++) {
                    if (rows[i].length < 1) {
                        rows.pop(i);
                    }
                }

            })
            .catch(error => console.log('error', error));

    }
</script>

</html>
<!--
    Common Tag
    "<div class='row'>"+label+solution-type+"</div>"
    
    Label Tag
    "<label for="+data[0]+" class='text-dark col-lg-10 col-md-10 col-sm-10'>"+data[2]+"</label>"

    Input Box
    "<div class='col-lg-4 col-sm-8 col-md-8'><input type='text' class='border-info form-control' id="+data[0]+"></div>"

    Options- Radio

-->
